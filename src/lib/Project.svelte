<script>
  export let name;
  export let url;
  export let tech;
  export let abstract;
  export let thumbnail;
  import Icon from "./Icon.svelte";
  let svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 198.94 196.16"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M179.41,98.2c0,.92,0,1.83,0,2.74a79.65,79.65,0,0,1-3.52,21c-.6,1.94-1.28,3.87-2,5.77-.17.45-.36.89-.54,1.33l-.15.36a79.49,79.49,0,0,1-11.58,19.27q-2.43,3-5.18,5.77l-.4.41c-1,1-1.94,1.9-3,2.81a79.74,79.74,0,0,1-53.66,20.64v-5.78h0a74.56,74.56,0,0,0,7.79-.4h0a73.72,73.72,0,0,0,40.31-17.31l.43-.37q2-1.76,3.95-3.68c.69-.68,1.36-1.38,2-2.09a74.15,74.15,0,0,0,13.68-21c.18-.41.36-.84.53-1.26.61-1.48,1.17-3,1.68-4.51a74,74,0,0,0,3.8-21c0-.91,0-1.82,0-2.74s0-2-.07-3a74.07,74.07,0,0,0-3.87-21c-.67-1.95-1.41-3.88-2.24-5.77a74.09,74.09,0,0,0-13.83-21c-.57-.61-1.16-1.21-1.75-1.81-1.39-1.38-2.81-2.71-4.29-4a73.46,73.46,0,0,0-40.37-17.38c-2.29-.25-4.6-.38-6.93-.41h-.94V18.14h1.31A79.74,79.74,0,0,1,156,41.59l.12.12c1.84,1.85,3.59,3.77,5.23,5.77A80.06,80.06,0,0,1,173.12,67c.2.47.39.94.58,1.41.76,1.9,1.45,3.83,2.06,5.77a79.67,79.67,0,0,1,3.6,21C179.39,96.17,179.41,97.18,179.41,98.2Z"/><path d="M99.36,178.24v-5.77c11.31,0,22.06-7.53,30.27-21.2,8.48-14.14,13.15-33,13.15-53.09s-4.67-39-13.15-53.08c-8.21-13.67-19-21.2-30.27-21.2V18.12a33.77,33.77,0,0,1,19.69,6.6,56.47,56.47,0,0,1,15.53,17.41c9,15,14,34.92,14,56.05s-5,41-14,56.06a56.58,56.58,0,0,1-15.53,17.41A33.75,33.75,0,0,1,99.36,178.24Z"/><path d="M99.37,178.23v-5.78c.85,0,4.71-3.44,8.08-20.28,2.88-14.39,4.46-33.57,4.46-54s-1.58-39.61-4.46-54c-3.37-16.84-7.23-20.28-8.08-20.28V18.11c5.89,0,10.39,8.15,13.74,24.93,3,14.75,4.58,34.33,4.58,55.13s-1.62,40.38-4.58,55.14C109.76,170.08,105.26,178.23,99.37,178.23Z"/><path d="M99.38,178.22c-5.9,0-10.4-8.16-13.75-24.93-2.95-14.75-4.58-34.34-4.58-55.13S82.68,57.78,85.63,43C89,26.25,93.48,18.1,99.38,18.1v5.77c-.85,0-4.72,3.44-8.09,20.28-2.88,14.4-4.46,33.58-4.46,54s1.58,39.6,4.46,54c3.37,16.84,7.24,20.28,8.09,20.28Z"/><path d="M99.38,178.2a33.7,33.7,0,0,1-19.68-6.59A56.61,56.61,0,0,1,64.16,154.2c-9-15-14-34.93-14-56.06s5-41,14-56A56.65,56.65,0,0,1,79.7,24.67a33.77,33.77,0,0,1,19.68-6.59v5.78c-11.31,0-22.06,7.53-30.26,21.2C60.64,59.19,56,78.05,56,98.14s4.67,39,13.15,53.09c8.2,13.67,18.95,21.2,30.26,21.2Z"/><path d="M99.39,18.07v5.77h0a77.39,77.39,0,0,0-7.79.41h0A74.72,74.72,0,0,0,76,27.58,73.64,73.64,0,0,0,51.07,41.71l-.49.42q-1.9,1.66-3.72,3.47c-.61.62-1.22,1.25-1.81,1.88a73.74,73.74,0,0,0-13.79,21c-.34.76-.66,1.53-1,2.3-.46,1.15-.88,2.3-1.28,3.47a74.42,74.42,0,0,0-3.86,21c0,1-.05,2-.05,3s0,1.88.05,2.81a74.37,74.37,0,0,0,3.81,21c.66,1.95,1.4,3.88,2.22,5.77a74.07,74.07,0,0,0,13.72,21c.64.68,1.29,1.36,2,2q2,2,4,3.74A73.47,73.47,0,0,0,91.53,172q3.42.36,6.92.41h.94v5.78H98.08a79.79,79.79,0,0,1-55.3-23.44l-.33-.34q-2.75-2.78-5.19-5.77a79.5,79.5,0,0,1-11.64-19.34L25,127.67c-.76-1.9-1.44-3.83-2-5.77a79.26,79.26,0,0,1-3.54-21c0-.93-.05-1.87-.05-2.81s0-2,.05-3a79.65,79.65,0,0,1,3.58-21c.61-1.94,1.3-3.87,2.06-5.77.19-.5.4-1,.6-1.47.08-.18.16-.36.23-.54a79.55,79.55,0,0,1,11.53-19q2.46-3,5.21-5.77c.06-.07.13-.13.19-.19q1.8-1.82,3.71-3.49a79.8,79.8,0,0,1,52.9-20Z"/><path d="M161.31,47.48H37.38q2.46-3,5.21-5.77H156.08C157.92,43.56,159.67,45.48,161.31,47.48Z"/><path d="M175.76,74.21H23c.61-1.94,1.3-3.87,2.06-5.77H173.7C174.46,70.34,175.15,72.27,175.76,74.21Z"/><path d="M179.41,98.2c0,.92,0,1.83,0,2.74h-160c0-.93-.05-1.87-.05-2.81s0-2,.05-3h160C179.39,96.17,179.41,97.18,179.41,98.2Z"/><path d="M175.85,121.9c-.6,1.94-1.28,3.87-2,5.77H25c-.76-1.9-1.44-3.83-2-5.77Z"/><path d="M161.54,148.63q-2.43,3-5.18,5.77H42.45q-2.75-2.78-5.19-5.77Z"/><path d="M173.27,129l-.15.36a79.49,79.49,0,0,1-11.58,19.27q-2.43,3-5.18,5.77l-.4.41c-1,1-1.94,1.9-3,2.81-1.84-.94-3.67-1.89-5.51-2.85l-.69-.37q-4.76-2.51-9.49-5.13l-1.14-.64q-2-1.09-3.89-2.2-8.35-4.77-16.62-9.9c-1.81-1.13-3.63-2.27-5.43-3.43-2.36-1.5-4.7-3-7-4.57l-1.3-.86q-4.26-2.83-8.5-5.77c-2-1.41-4.06-2.83-6.07-4.27s-4-2.87-6-4.33q-8.22-6-16.2-12.36-3.53-2.79-7-5.63L58,95.17l-1.93-1.6c-1.92-1.58-3.76-3.13-5.54-4.64-6.45-5.5-12-10.48-16.53-14.72q-2-1.83-3.68-3.47c-.85-.8-1.64-1.57-2.4-2.3l-2-2a79.55,79.55,0,0,1,11.53-19q2.46-3,5.21-5.77c.06-.07.13-.13.19-.19q1.8-1.82,3.71-3.49c.92.95,2.15,2.18,3.66,3.68l.43.42c1.57,1.54,3.43,3.34,5.57,5.35l3.51,3.27q2.12,1.95,4.51,4.09c4.57,4.09,9.88,8.68,15.87,13.6l.65.52,1.4,1.15c1.64,1.32,3.35,2.7,5.13,4.1l.35.28c7.05,5.56,15.2,11.67,24.3,18l3.86,2.66,2,1.33c2.17,1.47,4.4,3,6.67,4.44,5.61,3.67,11.5,7.37,17.67,11,1.78,1.06,3.59,2.13,5.43,3.18q5.88,3.41,12,6.74,4.25,2.28,8.6,4.51c.83.42,1.66.85,2.49,1.26S172.37,128.56,173.27,129Z"/><polyline class="cls-1" points="173.64 87.92 189.41 87.92 194.89 87.92 194.89 97.74"/><polygon points="198.94 74.23 184.28 91.73 198.94 91.73 198.94 74.23"/><polyline class="cls-1" points="173.64 107.56 189.41 107.56 194.89 107.56 194.89 97.74"/><polygon points="198.94 121.24 184.28 103.74 198.94 103.74 198.94 121.24"/><polyline class="cls-1" points="25.3 87.45 9.53 87.45 4.04 87.45 4.04 97.27"/><polygon points="0 73.77 14.66 91.27 0 91.27 0 73.77"/><polyline class="cls-1" points="25.3 107.09 9.53 107.09 4.04 107.09 4.04 97.27"/><polygon points="0 120.78 14.66 103.28 0 103.28 0 120.78"/><polyline class="cls-1" points="89.07 170.86 89.07 186.64 89.07 192.12 98.89 192.12"/><polygon points="75.39 196.16 92.88 181.51 92.88 196.16 75.39 196.16"/><polyline class="cls-1" points="108.71 170.86 108.71 186.64 108.71 192.12 98.89 192.12"/><polygon points="122.4 196.16 104.9 181.51 104.9 196.16 122.4 196.16"/><polyline class="cls-1" points="89.07 25.3 89.07 9.53 89.07 4.04 98.89 4.04"/><polygon points="75.39 0 92.88 14.66 92.88 0 75.39 0"/><polyline class="cls-1" points="108.71 25.3 108.71 9.53 108.71 4.04 98.89 4.04"/><polygon points="122.4 0 104.9 14.66 104.9 0 122.4 0"/></g></g></svg>`;
</script>

<div class="card glass" on:click={() => window.open(url, "_blank")}>
  <div class="backdrop">
    <Icon
      name={thumbnail}
      color={"#c8cacb"}
      opacity={1}
      height={"50%"}
      width={"50%"}
    />
  </div>
  <div class="front" />
  <div class="back" />
  <div class="inner">
    <div class="date">{tech}</div>
    <div class="title">
      {name}
    </div>

    <div class="abstract">{abstract}</div>
  </div>
</div>

<style>
  .abstract {
    font-size: 0.7rem;
    line-height: 0.9rem;
    opacity: 0;
    color: var(--lvl1);
    transition-delay: 0.1s;
  }
  .inner {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    bottom: 0.5rem;
    left: 0.5rem;
    border: 1px solid var(--lvl1);
    border-radius: 0.25rem;
    padding: 1rem 1rem 1rem 1rem;
    text-align: center;
    color: var(--text1);
    transition: color 0.2s ease-out;
  }
  .front {
    position: absolute;
    width: 100%;
    height: 100%;
    transition: all 0.2s ease-out;
  }
  .title {
    margin-top: 0.5rem;
    font-size: 1.2rem;
    font-weight: 800;
    color: inherit;
  }
  .date {
    color: var(--text2);
    font-size: 0.5rem;
    font-weight: 100;
    letter-spacing: 0.1rem;
    text-transform: uppercase;
  }
  .card {
    display: flex;
    flex-direction: column;
    position: relative;
    border-radius: 0.5rem;
    margin-top: 1.3rem;
    width: 12rem;
    aspect-ratio: 1/1.44;
    overflow-y: hidden;
    cursor: pointer;
  }
  .back {
    width: 100%;
    height: 100%;
    padding: 1rem;
    color: var(--lvl1);
    background-color: var(--text1);
    transform: translate(0, 100%);
    transition: all 0.2s ease-out;
  }

  .card:hover > .back {
    transform: translate(0, 0%);
  }
  .card:hover > .front {
    transform: translate(0, -100%);
  }
  .card:hover > .inner {
    color: var(--bg);
  }
  .inner:hover > .abstract {
    opacity: 1;
  }

  .backdrop {
    display: grid;
    place-items: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding-top: 3rem;
  }
</style>
